---
title: 2019-01-TIL
key: 20190101
tags: TIL
---

## 01-03

인터넷의 중심에는 두개의 프로토콜 -IP,TCP-가 존재한다.



## 01-07

#### git 개념 가이드

* svn
  * 중앙서버에의존적이다
* git

## 01-10

캐시는 URL을 기준으로 설정된다. 따라서 리소스가 변경되엇다면, URL을 바꿔서 캐시를 무효화 하면 된다.

ex) https://ssl.pstatic.net/tveta/libs/1219/1219629/45c6ef7fcebe297904a3_20190109150633621.jpg 이렇게 바뀌기 쉬운 숫자를 삽입한다.



#### page speed insight

구글 페이지 속도 분석

또는 yslow.org



## 01-14

#### 에노테이션이 없던 시절

xml을 썼었지

xml과 자바 소스를 왔다갔다 하는게 불편했다.

오타도 불편했고, 리팩토링도 귀찮았다.



## 01-16

#### else-if제거 - Optional 사용

```java
Review review;
	if (maybeReview.isPresent()) {
		maybeReview.get().setReview(text);
		review = maybeReview.get();
	}else{
		review = new Review(text, book, maybeUser.get());
    }
```

```java
Review review = maybeReview
	.map((x)->{x.setReview(text);return x;})
    .orElseGet(()->new Review(text, book, user));
```



## 01-21

#### 서버의  scale out

서버를 1대에서 2대로 갈때는 비용이 크다. 하지만 2대로만든 다음에 추가를 할 때는 비용이 거의 들지 않는다.

무중단 서비스를 위해서는 scale out이 절대적으로 필요하다.

#### SPOF( Single Point Of Failure)

DNS( 네임서버 ) : 3대

nginx(웹서버) : 2대

tomcat(WAS) : 10대

mysql( DB ) : 1대

일 때 SPOF는 mysql이다.

SPOF를 제거하려면 돈이 많이 든다. 비용과 위험 부담을 잘 저울질 해야 할 것이다.

#### 서버가 다수일때, 세션(상태)의 관리

상태를 가지는 서비스를 운영할 때, 서버를 여러 개 두면 상태를 어떻게 저장할지에 대한 이슈가 생긴다.

* sticky session : L7스위치를 산다. 이 스위치가 패킷을 해석하고, 해당 서버로 요청을 보낸다.
* session clustering : 모든 세션 정보를 다른 서버들이 기억하게 한다.
* 별도의 session 서버를 둔다 : 글로벌 세션이라고도 한다. 이 경우 SPOF 이슈가 발생, NoSql을 주로사용

#### 캐시 서버

DB의 내용을 캐시

NoSql을 주로 쓴다.

DB에서 수행되는 sql은 비용이 크다. 이 비용을 제거한다.

램 메모리가 커야 한다. 

자주 바뀌지 않지만, 자주 사용되는 데이터를 캐싱해야한다. (hit율이 70%는 되어야 한다.) 이를 지키지 않으면 비용이 더 늘어날 수 있다. 모든 방법에는 trade off가 따른다.

#### 클라우드 서비스의 장점

각 서버의 특성에 따라 다른 사양을 가진 서버 하드웨어를 사야 했다.

하지만 클라우드 서버를 씀으로써 유동적인 사양을 가진 하드웨어를 쉽게 쓸 수 있게 되었다.



#### Sharding

DB서버게 4개일 때, id를 4로 나누어서 mod 로 어떤 데이터 서버에 넣을지 결정한다.

해시와 비슷하다.

단점

* 전체 DB조회는 힘들다. 따라서 모든 sharde를 관리하는 서버가 필요하다.
* 정확한 로드 밸런싱이 안된다. 예를 들어 중고나라와 샤딩 서버를 같이 쓰는 카페는 성능이 떨어질 것이다.



## 01-24

Kotlin Groovy Clojure는 JVM을 쓴다.



## 01-25

트리의 불변성 -> 트리의 자식은 트리다.

트리의 불균형이 발생하 때가 있다 -> AVL트리(회전) 또는 RED BLACK 트리를 쓴다.;



DB 인덱스 -> 쓰기 속도를 희생해서 읽기 속도를 빠르게 한다.

DB는 디스크에 읽고 쓰므로 디스크의 특성을 고려해야 한다. -> Clustered Index



## 01-28

서버에 리소스를 요청할 때 포트가 여러개 열린다.

왜냐하면 클라이언트가 멀티 스레드로 동작하면 성능의 이점이 있기 때문이다.



## 01-29

어떤 기준으로 회사를 찾아야 할까

1. 현직자를 만나는게 어떨까
2. 일단 지원하자, 면접 프로세스 과정에서 회사를 알게 된다.

회사에서 높은 직급은 그 회사와 가치관이 맞는 사람일 것이다. 높은 사람을 보고 회사를 계속 다닐지 판단해 보자

자소서 피드백

* 긍정적인 피드백도 받아보자

기업분석

* 내가 이 기업에서 어떤걸 할 수 있는가
* 기업의 홈페이지, 뉴스 정도는 보자

면접

* 면접은 대화 - 보편 다당상 -> 소개팅이다 생각하고 나가자
* 모를 떄 구라치지 말자 차라리 유사 경험을 말하자
* 애매하면 모른다고 한 다음에 아는 내용을 말하자
* 두괄식으로 대답하자
* 지원동기, 목표정도는 미리 준비해가자
* 용어도 미리 준비하자

경력

1. 이것은 어떤 경험인가
2. 왜 했는가 -> 주도적으로
3. 구체적으로 역할 & 구체적으로 어떤 것을 배웠는가
4. 어려웠던 것, 극복 내용
5. 결과가 어떠했는가
6. 그것이 기업에 어떻게 도움이 될 것인가

코드 스쿼드의 강점은 무엇인가

* 코드 리뷰를 받아보았다
* 코드 품질을 신경 쓴다.
* 객체 설계, 클린 코드를 어필해보자

신입이 갖추면 좋은 자세는 무엇인가

* 프로그래밍을 즐기는가

발표를 잘하려면

* 스크립트와 리허셜

## 01-31

운영체제

block non-block

sync async

어플리케이션의 sync async와 혼동하지 말자

