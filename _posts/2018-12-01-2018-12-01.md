---
title: 2018-12-TIL
key: 20181201
tags: TIL
---

## 12-06

Acceptance Test = End to end Test



#### TDD

tdd를 사용하는 건 게임에서 단축키를 쓰는 것과 같지 않을까. 마우스만으로 스타를 할 순 있겠지만 프로는 되지 못 하듯. 



### 불편함 - UX의 다른 얼굴

> 인스타의 불편한 텍스트 작성 기능 ex ) #첫줄 안녕
>
> 사용자를 개발자들이 원하는 방향으로 길들이기



## 12-13

#### 로직 처리는 서비스 객체보다 도메인 객체에서 하는 것이 좋다

-> 서비스 객체에서 구현을 한다면 Mockito를 사용해야만 테스트가 가능하다. 그 뿐만 아니라 절차지향적 코딩을 할 가능성이 늘어난다.



#### 픽스쳐 

 테스트를 위한 데이터

-> 유저 객체에서 두명의 유저는 보통 사용된다. 픽스처를 사용한다면 테스트에서 유저를 만드는 수고가 줄어들 수 있다.



#### ControllerAdvice , RestControllerAdvice

컨트롤 어드바이스는 Html 리턴하고

레스트 컨트롤 어드바이스는 JSON으로 리턴한다.



#### 서블릿

서블릿은 자바의 표준 인터페이스 조합이다.

스프링MVC는 디스패쳐 서블릿 위에 올라가 있다.



#### 컨테이너

컨테이너는 어떤 컴포넌트의 라이프사이클을 관리한다.

톰캣은 서블릿 컨테이너이다.

톰캣이 디스페처 서블릿의 init을 실행한다.

이 때, 스프링 프레임워크의 DI컨테이너가 초기화 된다.

스프링 실행.



#### 면담

##### 인하지도

인하지도 업그레이드(포비의 추천)

두개는 추천하지 않는다.

집단지성을 이용한 강의 찾기

##### 슬랙 도서관리

데이터 크롤링

블로그 서평 링크

책평가



## X-mas eve

#### dao

dao는 데이터에 접근한다. web-api에 접근하는 것도 데이터에 접근하는게 아닐까 



#### NullObject 패턴

Null을 의미하는 객체를 만들어 NPE를 방어한다.

Optinal을 쓸 수 도있다. 하지만 NullObject패턴을 쓰면 더 다양한 로직을 넣을 수도 있다.



#### @Embedded, @Embeddable

1급 컬렉션을 적용할 때 쓰자, ORM에서 테이블에 대응하는 객체를 쪼갤 때에도 쓸 수 있다.



## 12-27

#### \]프로세스 - 스레드

스레드가 왜 빠른가. 메모리에 이미 올라와있는 클래스 정보등을 재활용, 공유 할 수 있기 때문이다.

크롬은 독립적인 프로세스를 띄운다 그래서 하나가 죽어도 다 죽진 않는다. 단점으로는 메모리를 많이 먹는다.

서버의 기본 스레드는 200개

스레드를 만드는데도 비용이 든다 이를 위해서 스레드 풀을 사용

수강신청때 느린 이유는 스레드 풀보다 많은 사람이 접속해서 접속을 거부하기 때문 이 때 사용자의 요청은 큐에서 대기한다.

#### stack vs heap

```java
public class Controller{
    Question question;		//여기에 있는건 힙 영역, 스레드가 공유한다.
    
    @GetMapping("/")
    public String show(long id){
        //Question question = qnaService.findById(id); //여기는 스택 영역
        question = qnaService.findById(id);
        model.addAttribute("question", question);
        return "show";
    }
}
```

위와같이 인스턴스 변수로 선언하면 스레드가 공유하기 때문에, 값이 덮어씌워져 의도하지 않은 결과가 나올 수 있다.



+